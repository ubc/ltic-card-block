(()=>{"use strict";var e,t={695(){const e=window.wp.blocks,t=window.wp.i18n,i=window.wp.element,o=window.wp.data,r=window.wp.blockEditor,n=window.wp.components,a=window.ReactJSXRuntime,c=[{name:"card-1",title:(0,t.__)("A card block that includes an image, a text content section and a button"),description:(0,t.__)("A card block that includes an image, a text content section and a button"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"36",width:"96",height:"80",fill:"currentColor",opacity:"0.2"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,a.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"}),(0,a.jsx)(n.Rect,{x:"52",y:"160",width:"48",height:"12",fill:"currentColor"})]}),innerBlocks:[["core/image"],["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]],["core/buttons",{},[["core/button",{text:"Read More"}]]]],isDefault:!0,scope:["block","transform"],attributes:{variationType:"card-1"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-2",title:(0,t.__)("A card block that includes an image and a text content section"),description:(0,t.__)("A card block that includes an image and a text content section"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"36",width:"96",height:"80",fill:"currentColor",opacity:"0.2"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,a.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"})]}),isDefault:!1,innerBlocks:[["core/image"],["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]]],scope:["block","transform"],attributes:{variationType:"card-2"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-3",title:(0,t.__)("A card block that includes a text content section and a button"),description:(0,t.__)("A card block that includes a text content section and a button"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,a.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"}),(0,a.jsx)(n.Rect,{x:"52",y:"160",width:"48",height:"12",fill:"currentColor"})]}),isDefault:!1,innerBlocks:[["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]],["core/buttons",{},[["core/button",{text:"Read More"}]]]],scope:["block","transform"],attributes:{variationType:"card-3"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-4",title:(0,t.__)("A card block that includes a text content section only"),description:(0,t.__)("A card block that includes a text content section only"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"})]}),isDefault:!1,innerBlocks:[["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]]],scope:["block","transform"],attributes:{variationType:"card-4"},isActive:(e,t)=>e.variationType===t.variationType}],l={"core/image":"core/post-featured-image","core/heading":"core/post-title","core/paragraph":"core/post-excerpt","core/buttons":"core/read-more"},s={"card-2":"card-1","card-4":"card-3"};function d({clientId:i,name:n,setAttributes:c}){const{blockType:l,defaultVariation:s,variations:d}=(0,o.useSelect)(t=>{const{getBlockVariations:i,getBlockType:o,getDefaultBlockVariation:r}=t(e.store);return{blockType:o(n),defaultVariation:r(n,"block"),variations:i(n,"block")}},[n]),{replaceInnerBlocks:u}=(0,o.useDispatch)(r.store),p=(0,r.useBlockProps)();return(0,a.jsx)("div",{...p,children:(0,a.jsx)(r.__experimentalBlockVariationPicker,{icon:l?.icon?.src,label:l?.title,variations:d,instructions:(0,t.__)("Select a card layout to start:"),onSelect:(t=s)=>{t.attributes&&c(t.attributes),t.innerBlocks&&u(i,(0,e.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!1)},allowSkip:!0})})}const u=(t,i)=>t.map(t=>{const o=i.findIndex(e=>e.name===t.name||l[t.name]===e.name);if(-1!==o){const[r]=i.splice(o,1),n={...t.attributes,...r.attributes};return(0,e.createBlock)(r.name,n,r.innerBlocks)}if(t.innerBlocks.length>0){const o=u(t.innerBlocks,i);return(0,e.createBlock)(t.name,t.attributes,o)}return t});function p({attributes:l,setAttributes:d,clientId:p,isSelected:h}){const{variationType:k,linkEnabled:m,isInQueryLoop:x,isEqualHeight:b}=l,{replaceInnerBlocks:g}=(0,o.useDispatch)(r.store),{innerBlocks:w,parentBlockName:f}=(0,o.useSelect)(e=>{const{getBlocks:t,getBlockName:i,getBlockRootClientId:o}=e(r.store),n=o(p);return{innerBlocks:t(p),parentBlockName:i(n)}},[p]),v="core/column"===f||"core/post-template"===f;(0,i.useEffect)(()=>{const i=c.find(e=>e.attributes.variationType===k);if(i?.innerBlocks){const o=i.innerBlocks,r=(0,e.createBlocksFromInnerBlocksTemplate)(o),n=w.map(e=>({...e})),a=u(r,n),c=a.find(e=>"core/image"===e.name);!c||c.attributes.url||c.attributes.id||void 0!==window.lticCardBlockData&&window.lticCardBlockData.defaultImageUrl&&(c.attributes.url=window.lticCardBlockData.defaultImageUrl,c.attributes.alt=(0,t.__)("Default Image","wp-card-block")),w.map(e=>e.name+("core/image"===e.name?e.attributes.url:"")).join("|")!==a.map(e=>e.name+("core/image"===e.name?e.attributes.url:"")).join("|")&&g(p,a,!1)}},[k,p,w,g]);const y=b?"is-equal-height":"",B=(0,r.useBlockProps)({className:y,"data-linked":m?"true":void 0}),j=(0,r.useInnerBlocksProps)(B,{directInsert:!0,orientation:"horizontal",renderAppender:!1,templateLock:"all"}),_=(0,i.useRef)(k);(0,i.useEffect)(()=>{_.current=k},[k]);const C=_.current,[T,R]=(0,i.useState)(!1),[L,I]=(0,i.useState)(null),[E,S]=(0,i.useState)(!1),[q,A]=(0,i.useState)(null);(0,i.useEffect)(()=>{k!==C&&h&&s[k]&&m&&(I(C),R(!0))},[k,m,C,h]);const D=()=>{L&&d({variationType:L}),R(!1),I(null)},O=()=>{S(!1),A(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.InspectorControls,{children:(0,a.jsxs)(n.PanelBody,{title:(0,t.__)("Card Settings","wp-card-block"),children:[(0,a.jsx)(n.ToggleControl,{label:(0,t.__)("Entire Card as Link","wp-card-block"),checked:m,onChange:()=>{const e={linkEnabled:!m};if(!m&&s[k]){const t=s[k];return e.variationType=t,A(e),void S(!0)}d(e)}}),(0,a.jsx)(n.ToggleControl,{label:(0,t.__)("Equal Height","wp-card-block"),checked:b,onChange:e=>d({isEqualHeight:e}),disabled:!v,help:v?void 0:(0,t.__)("Only available when inside a Column or Post Template block.","wp-card-block")})]})}),(0,a.jsx)("div",{...j}),T&&(0,a.jsxs)(n.Modal,{title:(0,t.__)("Remove Link?","wp-card-block"),onRequestClose:D,children:[(0,a.jsx)("p",{children:(0,t.__)('The "Entire Card as Link" feature requires your card to have a visible button to provide a clear call-to-action for users. You are switching to a layout without a button. By confirming, the existing link on the card will be removed. Do you want to proceed?',"wp-card-block")}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,a.jsx)(n.Button,{variant:"secondary",onClick:D,children:(0,t.__)("Cancel","wp-card-block")}),(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>{d({linkEnabled:!1}),R(!1),I(null)},children:(0,t.__)("Proceed","wp-card-block")})]})]}),E&&(0,a.jsxs)(n.Modal,{title:(0,t.__)("Layout Change Required","wp-card-block"),onRequestClose:O,children:[(0,a.jsx)("p",{children:(0,t.__)('To provide a clear, accessible call-to-action for users, the "Entire Card as Link" feature requires a visible button on the card. Enabling this feature will automatically switch your card to a layout that includes a button. Do you want to proceed?',"wp-card-block")}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,a.jsx)(n.Button,{variant:"secondary",onClick:O,children:(0,t.__)("Cancel","wp-card-block")}),(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>{q&&d(q),S(!1),A(null)},children:(0,t.__)("Proceed","wp-card-block")})]})]})]})}const h=JSON.parse('{"UU":"ltic/card-block"}'),k=window.wp.primitives;var m=(0,a.jsxs)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsx)(k.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,a.jsx)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});(0,e.registerBlockType)(h.UU,{icon:m,variations:c,edit:function(t){const{clientId:n,attributes:c,setAttributes:s,context:u}=t,{isInQueryLoop:h,linkEnabled:k}=c,m=(0,o.useSelect)(e=>e(r.store).getBlocks(n),[n]),{replaceInnerBlocks:x}=(0,o.useDispatch)(r.store),b=Number.isFinite(u.queryId);(0,i.useEffect)(()=>{b&&!h?s({isInQueryLoop:!0}):!b&&h&&s({isInQueryLoop:!1})},[b,h,s]),(0,i.useEffect)(()=>{if(h&&m.length>0){let t=!1,i=!1,o=!1;const r=n=>n.map(n=>{const a=l[n.name];if(a)if("core/heading"===n.name){if(!t)return t=!0,o=!0,(0,e.createBlock)(a,{level:n.attributes.level,isLink:!k})}else{if("core/paragraph"!==n.name){o=!0;const t={...n.attributes};return"core/post-featured-image"===a&&(t.isLink=!k),(0,e.createBlock)(a,t)}if(!i)return i=!0,o=!0,(0,e.createBlock)(a)}if("core/post-title"===n.name&&n.attributes.isLink===k)return o=!0,(0,e.createBlock)(n.name,{...n.attributes,isLink:!k},n.innerBlocks);if("core/post-featured-image"===n.name&&n.attributes.isLink===k)return o=!0,(0,e.createBlock)(n.name,{...n.attributes,isLink:!k},n.innerBlocks);if(n.innerBlocks.length>0){const t=r(n.innerBlocks);return(0,e.createBlock)(n.name,n.attributes,t)}return n}),a=r(m);o&&x(n,a,!1)}},[h,m,n,x,k]);const g=m.length>0?p:d;return(0,a.jsx)(g,{...t})},save:function({attributes:e}){const{variationType:t,linkEnabled:i,isEqualHeight:o}=e,n=r.useBlockProps.save({className:o?"is-equal-height":void 0});return!s.hasOwnProperty(t)&&i?(0,a.jsx)("div",{...n,"data-linked":"true",children:(0,a.jsx)(r.InnerBlocks.Content,{})}):(0,a.jsx)("div",{...n,children:(0,a.jsx)(r.InnerBlocks.Content,{})})}})}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,i,r,n)=>{if(!i){var a=1/0;for(d=0;d<e.length;d++){for(var[i,r,n]=e[d],c=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(o.O).every(e=>o.O[e](i[l]))?i.splice(l--,1):(c=!1,n<a&&(a=n));if(c){e.splice(d--,1);var s=r();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,r,n]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={184:0,816:0};o.O.j=t=>0===e[t];var t=(t,i)=>{var r,n,[a,c,l]=i,s=0;if(a.some(t=>0!==e[t])){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(l)var d=l(o)}for(t&&t(i);s<a.length;s++)n=a[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},i=globalThis.webpackChunkwp_card_block=globalThis.webpackChunkwp_card_block||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=o.O(void 0,[816],()=>o(695));r=o.O(r)})();