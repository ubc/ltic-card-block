(()=>{"use strict";var e,t={721(){const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.element,r=window.wp.data,i=window.wp.blockEditor,n=window.wp.components,c=window.wp.primitives,a=window.ReactJSXRuntime;var l=(0,a.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(c.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});const s=[{name:"card-1",title:(0,t.__)("A card block that includes an image, a text content section and a button"),description:(0,t.__)("A card block that includes an image, a text content section and a button"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"36",width:"96",height:"80",fill:"currentColor",opacity:"0.2"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,a.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"}),(0,a.jsx)(n.Rect,{x:"52",y:"160",width:"48",height:"12",fill:"currentColor"})]}),innerBlocks:[["core/image"],["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]],["core/buttons",{},[["core/button",{text:"Read More"}]]]],isDefault:!0,scope:["block","transform"],attributes:{variationType:"card-1"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-2",title:(0,t.__)("A card block that includes an image and a text content section"),description:(0,t.__)("A card block that includes an image and a text content section"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"36",width:"96",height:"80",fill:"currentColor",opacity:"0.2"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,a.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"})]}),isDefault:!1,innerBlocks:[["core/image"],["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]]],scope:["block","transform"],attributes:{variationType:"card-2"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-3",title:(0,t.__)("A card block that includes a text content section and a button"),description:(0,t.__)("A card block that includes a text content section and a button"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,a.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"}),(0,a.jsx)(n.Rect,{x:"52",y:"160",width:"48",height:"12",fill:"currentColor"})]}),isDefault:!1,innerBlocks:[["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]],["core/buttons",{},[["core/button",{text:"Read More"}]]]],scope:["block","transform"],attributes:{variationType:"card-3"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-4",title:(0,t.__)("A card block that includes a text content section only"),description:(0,t.__)("A card block that includes a text content section only"),icon:(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,a.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,a.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"})]}),isDefault:!1,innerBlocks:[["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]]],scope:["block","transform"],attributes:{variationType:"card-4"},isActive:(e,t)=>e.variationType===t.variationType}],d={"core/image":"core/post-featured-image","core/heading":"core/post-title","core/paragraph":"core/post-excerpt","core/button":"core/read-more"},h={"card-1":"card-2","card-3":"card-4"};function u({clientId:o,name:n,setAttributes:c}){const{blockType:l,defaultVariation:s,variations:d}=(0,r.useSelect)(t=>{const{getBlockVariations:o,getBlockType:r,getDefaultBlockVariation:i}=t(e.store);return{blockType:r(n),defaultVariation:i(n,"block"),variations:o(n,"block")}},[n]),{replaceInnerBlocks:h}=(0,r.useDispatch)(i.store),u=(0,i.useBlockProps)();return(0,a.jsx)("div",{...u,children:(0,a.jsx)(i.__experimentalBlockVariationPicker,{icon:l?.icon?.src,label:l?.title,variations:d,instructions:(0,t.__)("Select a card layout to start:"),onSelect:(t=s)=>{t.attributes&&c(t.attributes),t.innerBlocks&&h(o,(0,e.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!1)},allowSkip:!0})})}const p=(t,o)=>t.map(t=>{const r=o.findIndex(e=>e.name===t.name||d[t.name]===e.name);if(-1!==r){const[i]=o.splice(r,1),n={...t.attributes,...i.attributes};return(0,e.createBlock)(i.name,n,i.innerBlocks)}if(t.innerBlocks.length>0){const r=p(t.innerBlocks,o);return(0,e.createBlock)(t.name,t.attributes,r)}return t});function k({attributes:c,setAttributes:d,clientId:u}){const{variationType:k,url:x,linkTarget:m,rel:w}=c,{replaceInnerBlocks:g}=(0,r.useDispatch)(i.store),b=(0,r.useSelect)(e=>e(i.store).getBlocks(u),[u]),[v,f]=(0,o.useState)(!1),y=()=>f(!1),B=(0,o.useRef)();(0,o.useEffect)(()=>{const t=s.find(e=>e.attributes.variationType===k);if(t?.innerBlocks){const o=t.innerBlocks,r=(0,e.createBlocksFromInnerBlocksTemplate)(o),i=b.map(e=>({...e})),n=p(r,i);b.map(e=>e.name).join("|")!==n.map(e=>e.name).join("|")&&g(u,n,!1)}},[k,u,b,g]);const j=(0,i.useBlockProps)({className:""}),T=(0,i.useInnerBlocksProps)(j,{directInsert:!0,orientation:"horizontal",renderAppender:!1,templateLock:"all"}),_=v&&(0,a.jsx)(n.Popover,{position:"bottom center",onClose:y,anchorRef:B.current,children:(0,a.jsx)(i.__experimentalLinkControl,{value:{url:x,opensInNewTab:"_blank"===m},onChange:e=>{const t=e.url,o=e.opensInNewTab;let r=w;r=o?r?r+" noopener noreferrer":"noopener noreferrer":r?r.replace(/noopener|noreferrer/g,"").trim():"";const i={url:t,linkTarget:o?"_blank":"",rel:r};if(t&&h[k]){const e=h[k];i.variationType=e}d(i)},onRemove:()=>{d({url:void 0,linkTarget:void 0,rel:void 0}),y()}})}),C=h[k]&&x;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{...T}),(0,a.jsx)(i.BlockControls,{children:(0,a.jsx)(n.ToolbarButton,{icon:l,label:"Link",onClick:()=>f(!0),isActive:v||!!x,ref:B})}),_,C&&(0,a.jsx)(i.InspectorControls,{children:(0,a.jsx)(n.PanelBody,{title:(0,t.__)("Link Settings","wp-card-block"),children:(0,a.jsx)(n.Notice,{status:"error",isDismissible:!1,children:(0,t.__)("Setting the whole card as a link won't work for this variation because it contains a button, which is an HTML violation. The link functionality will be ignored until you switch to a different pattern that doesn't have a button block.","wp-card-block")})})})]})}const x=JSON.parse('{"UU":"ltic/card-block"}');var m=(0,a.jsxs)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsx)(c.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,a.jsx)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});(0,e.registerBlockType)(x.UU,{icon:m,variations:s,edit:function(t){const{clientId:n,attributes:c,setAttributes:l,context:s}=t,{isInQueryLoop:h}=c,p=(0,r.useSelect)(e=>e(i.store).getBlocks(n),[n]),{replaceInnerBlocks:x}=(0,r.useDispatch)(i.store),m=Number.isFinite(s.queryId);(0,o.useEffect)(()=>{m&&!h?l({isInQueryLoop:!0}):!m&&h&&l({isInQueryLoop:!1})},[m,h,l]),(0,o.useEffect)(()=>{if(h&&p.length>0){let t=!1,o=!1,r=!1;const i=n=>n.map(n=>{const c=d[n.name];if(c)if("core/heading"===n.name){if(!t)return t=!0,r=!0,(0,e.createBlock)(c,{level:n.attributes.level,isLink:!0})}else{if("core/paragraph"!==n.name)return r=!0,(0,e.createBlock)(c,{...n.attributes});if(!o)return o=!0,r=!0,(0,e.createBlock)(c)}if(n.innerBlocks.length>0){const t=i(n.innerBlocks);return(0,e.createBlock)(n.name,n.attributes,t)}return n}),c=i(p);r&&(console.log("Auto-transforming blocks for Query Loop context..."),x(n,c,!1))}},[h,p,n,x]);const w=p.length>0?k:u;return(0,a.jsx)(w,{...t})},save:function({attributes:e}){const{url:t,linkTarget:o,rel:r,variationType:n}=e,c=i.useBlockProps.save(),l=h.hasOwnProperty(n);return t&&!l?(0,a.jsx)("a",{href:t,target:o,rel:r,...c,children:(0,a.jsx)(i.InnerBlocks.Content,{})}):(0,a.jsx)("div",{...c,children:(0,a.jsx)(i.InnerBlocks.Content,{})})}})}},o={};function r(e){var i=o[e];if(void 0!==i)return i.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,o,i,n)=>{if(!o){var c=1/0;for(d=0;d<e.length;d++){for(var[o,i,n]=e[d],a=!0,l=0;l<o.length;l++)(!1&n||c>=n)&&Object.keys(r.O).every(e=>r.O[e](o[l]))?o.splice(l--,1):(a=!1,n<c&&(c=n));if(a){e.splice(d--,1);var s=i();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,i,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={184:0,816:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var i,n,[c,a,l]=o,s=0;if(c.some(t=>0!==e[t])){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(l)var d=l(r)}for(t&&t(o);s<c.length;s++)n=c[s],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},o=globalThis.webpackChunkwp_card_block=globalThis.webpackChunkwp_card_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=r.O(void 0,[816],()=>r(721));i=r.O(i)})();