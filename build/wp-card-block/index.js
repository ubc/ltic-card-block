(()=>{"use strict";var e,t={721(){const e=window.wp.blocks,t=window.wp.i18n,i=window.wp.element,r=window.wp.data,o=window.wp.blockEditor,n=window.wp.components,a=window.wp.primitives,c=window.ReactJSXRuntime;var l=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});const s=[{name:"card-1",title:(0,t.__)("A card block that includes an image, a text content section and a button"),description:(0,t.__)("A card block that includes an image, a text content section and a button"),icon:(0,c.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,c.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,c.jsx)(n.Rect,{x:"52",y:"36",width:"96",height:"80",fill:"currentColor",opacity:"0.2"}),(0,c.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,c.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"}),(0,c.jsx)(n.Rect,{x:"52",y:"160",width:"48",height:"12",fill:"currentColor"})]}),innerBlocks:[["core/image"],["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]],["core/buttons",{},[["core/button",{text:"Read More"}]]]],isDefault:!0,scope:["block","transform"],attributes:{variationType:"card-1"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-2",title:(0,t.__)("A card block that includes an image and a text content section"),description:(0,t.__)("A card block that includes an image and a text content section"),icon:(0,c.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,c.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,c.jsx)(n.Rect,{x:"52",y:"36",width:"96",height:"80",fill:"currentColor",opacity:"0.2"}),(0,c.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,c.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"})]}),isDefault:!1,innerBlocks:[["core/image"],["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]]],scope:["block","transform"],attributes:{variationType:"card-2"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-3",title:(0,t.__)("A card block that includes a text content section and a button"),description:(0,t.__)("A card block that includes a text content section and a button"),icon:(0,c.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,c.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,c.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"}),(0,c.jsx)(n.Rect,{x:"52",y:"148",width:"96",height:"8",fill:"currentColor",opacity:"0.5"}),(0,c.jsx)(n.Rect,{x:"52",y:"160",width:"48",height:"12",fill:"currentColor"})]}),isDefault:!1,innerBlocks:[["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]],["core/buttons",{},[["core/button",{text:"Read More"}]]]],scope:["block","transform"],attributes:{variationType:"card-3"},isActive:(e,t)=>e.variationType===t.variationType},{name:"card-4",title:(0,t.__)("A card block that includes a text content section only"),description:(0,t.__)("A card block that includes a text content section only"),icon:(0,c.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",style:{width:"200px",height:"200px"},children:[(0,c.jsx)(n.Rect,{x:"36",y:"20",width:"128",height:"160",rx:"8",stroke:"currentColor",fill:"none",strokeWidth:"6"}),(0,c.jsx)(n.Rect,{x:"52",y:"128",width:"80",height:"12",fill:"currentColor"})]}),isDefault:!1,innerBlocks:[["ltic/card-inner-text-block",{templateLock:"false"},[["core/heading",{content:"Card Title"}],["core/paragraph",{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]]]],scope:["block","transform"],attributes:{variationType:"card-4"},isActive:(e,t)=>e.variationType===t.variationType}],d={"core/image":"core/post-featured-image","core/heading":"core/post-title","core/paragraph":"core/post-excerpt","core/buttons":"core/read-more"},u={"card-2":"card-1","card-4":"card-3"};function p({clientId:i,name:n,setAttributes:a}){const{blockType:l,defaultVariation:s,variations:d}=(0,r.useSelect)(t=>{const{getBlockVariations:i,getBlockType:r,getDefaultBlockVariation:o}=t(e.store);return{blockType:r(n),defaultVariation:o(n,"block"),variations:i(n,"block")}},[n]),{replaceInnerBlocks:u}=(0,r.useDispatch)(o.store),p=(0,o.useBlockProps)();return(0,c.jsx)("div",{...p,children:(0,c.jsx)(o.__experimentalBlockVariationPicker,{icon:l?.icon?.src,label:l?.title,variations:d,instructions:(0,t.__)("Select a card layout to start:"),onSelect:(t=s)=>{t.attributes&&a(t.attributes),t.innerBlocks&&u(i,(0,e.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!1)},allowSkip:!0})})}const h=(t,i)=>t.map(t=>{const r=i.findIndex(e=>e.name===t.name||d[t.name]===e.name);if(-1!==r){const[o]=i.splice(r,1),n={...t.attributes,...o.attributes};return(0,e.createBlock)(o.name,n,o.innerBlocks)}if(t.innerBlocks.length>0){const r=h(t.innerBlocks,i);return(0,e.createBlock)(t.name,t.attributes,r)}return t});function k({attributes:a,setAttributes:d,clientId:p,isSelected:k}){const{variationType:x,linkEnabled:m,isInQueryLoop:b}=a,{replaceInnerBlocks:w}=(0,r.useDispatch)(o.store),g=(0,r.useSelect)(e=>e(o.store).getBlocks(p),[p]);(0,i.useEffect)(()=>{const i=s.find(e=>e.attributes.variationType===x);if(i?.innerBlocks){const r=i.innerBlocks,o=(0,e.createBlocksFromInnerBlocksTemplate)(r),n=g.map(e=>({...e})),a=h(o,n),c=a.find(e=>"core/image"===e.name);!c||c.attributes.url||c.attributes.id||void 0!==window.lticCardBlockData&&window.lticCardBlockData.defaultImageUrl&&(c.attributes.url=window.lticCardBlockData.defaultImageUrl,c.attributes.alt=(0,t.__)("Default Image","wp-card-block")),g.map(e=>e.name+("core/image"===e.name?e.attributes.url:"")).join("|")!==a.map(e=>e.name+("core/image"===e.name?e.attributes.url:"")).join("|")&&w(p,a,!1)}},[x,p,g,w]);const v=(0,o.useBlockProps)({className:"","data-linked":m?"true":void 0}),f=(0,o.useInnerBlocksProps)(v,{directInsert:!0,orientation:"horizontal",renderAppender:!1,templateLock:"all"}),y=(0,i.useRef)(x);(0,i.useEffect)(()=>{y.current=x},[x]);const B=y.current,[j,_]=(0,i.useState)(!1),[C,T]=(0,i.useState)(null),[R,L]=(0,i.useState)(!1),[I,S]=(0,i.useState)(null);(0,i.useEffect)(()=>{x!==B&&k&&u[x]&&m&&(T(B),_(!0))},[x,m,B,k]);const A=()=>{C&&d({variationType:C}),_(!1),T(null)},E=()=>{L(!1),S(null)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{...f}),(0,c.jsx)(o.BlockControls,{children:(0,c.jsx)(n.ToolbarButton,{icon:l,label:m?(0,t.__)("Disable Entire Card as Link"):(0,t.__)("Enable Entire Card as Link"),onClick:()=>{const e={linkEnabled:!m};if(!m&&u[x]){const t=u[x];return e.variationType=t,S(e),void L(!0)}d(e)},isActive:m})}),j&&(0,c.jsxs)(n.Modal,{title:(0,t.__)("Remove Link?","wp-card-block"),onRequestClose:A,children:[(0,c.jsx)("p",{children:(0,t.__)('The "Entire Card as Link" feature requires your card to have a visible button to provide a clear call-to-action for users. You are switching to a layout without a button. By confirming, the existing link on the card will be removed. Do you want to proceed?',"wp-card-block")}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,c.jsx)(n.Button,{variant:"secondary",onClick:A,children:(0,t.__)("Cancel","wp-card-block")}),(0,c.jsx)(n.Button,{variant:"primary",onClick:()=>{d({linkEnabled:!1}),_(!1),T(null)},children:(0,t.__)("Proceed","wp-card-block")})]})]}),R&&(0,c.jsxs)(n.Modal,{title:(0,t.__)("Layout Change Required","wp-card-block"),onRequestClose:E,children:[(0,c.jsx)("p",{children:(0,t.__)('To provide a clear, accessible call-to-action for users, the "Entire Card as Link" feature requires a visible button on the card. Enabling this feature will automatically switch your card to a layout that includes a button. Do you want to proceed?',"wp-card-block")}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,c.jsx)(n.Button,{variant:"secondary",onClick:E,children:(0,t.__)("Cancel","wp-card-block")}),(0,c.jsx)(n.Button,{variant:"primary",onClick:()=>{I&&d(I),L(!1),S(null)},children:(0,t.__)("Proceed","wp-card-block")})]})]})]})}const x=JSON.parse('{"UU":"ltic/card-block"}');var m=(0,c.jsxs)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,c.jsx)(a.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,c.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});(0,e.registerBlockType)(x.UU,{icon:m,variations:s,edit:function(t){const{clientId:n,attributes:a,setAttributes:l,context:s}=t,{isInQueryLoop:u,linkEnabled:h}=a,x=(0,r.useSelect)(e=>e(o.store).getBlocks(n),[n]),{replaceInnerBlocks:m}=(0,r.useDispatch)(o.store),b=Number.isFinite(s.queryId);(0,i.useEffect)(()=>{b&&!u?l({isInQueryLoop:!0}):!b&&u&&l({isInQueryLoop:!1})},[b,u,l]),(0,i.useEffect)(()=>{if(u&&x.length>0){let t=!1,i=!1,r=!1;const o=n=>n.map(n=>{const a=d[n.name];if(a)if("core/heading"===n.name){if(!t)return t=!0,r=!0,(0,e.createBlock)(a,{level:n.attributes.level,isLink:!h})}else{if("core/paragraph"!==n.name){r=!0;const t={...n.attributes};return"core/post-featured-image"===a&&(t.isLink=!h),(0,e.createBlock)(a,t)}if(!i)return i=!0,r=!0,(0,e.createBlock)(a)}if("core/post-title"===n.name&&n.attributes.isLink===h)return r=!0,(0,e.createBlock)(n.name,{...n.attributes,isLink:!h},n.innerBlocks);if("core/post-featured-image"===n.name&&n.attributes.isLink===h)return r=!0,(0,e.createBlock)(n.name,{...n.attributes,isLink:!h},n.innerBlocks);if(n.innerBlocks.length>0){const t=o(n.innerBlocks);return(0,e.createBlock)(n.name,n.attributes,t)}return n}),a=o(x);r&&m(n,a,!1)}},[u,x,n,m,h]);const w=x.length>0?k:p;return(0,c.jsx)(w,{...t})},save:function({attributes:e}){const{variationType:t,linkEnabled:i}=e,r=o.useBlockProps.save();return!u.hasOwnProperty(t)&&i?(0,c.jsx)("div",{...r,"data-linked":"true",children:(0,c.jsx)(o.InnerBlocks.Content,{})}):(0,c.jsx)("div",{...r,children:(0,c.jsx)(o.InnerBlocks.Content,{})})}})}},i={};function r(e){var o=i[e];if(void 0!==o)return o.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,i,o,n)=>{if(!i){var a=1/0;for(d=0;d<e.length;d++){for(var[i,o,n]=e[d],c=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(r.O).every(e=>r.O[e](i[l]))?i.splice(l--,1):(c=!1,n<a&&(a=n));if(c){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,o,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={184:0,816:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var o,n,[a,c,l]=i,s=0;if(a.some(t=>0!==e[t])){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var d=l(r)}for(t&&t(i);s<a.length;s++)n=a[s],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},i=globalThis.webpackChunkwp_card_block=globalThis.webpackChunkwp_card_block||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=r.O(void 0,[816],()=>r(721));o=r.O(o)})();